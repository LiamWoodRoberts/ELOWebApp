{% extends "nav_bar.html" %}
{% block content %}
<section>
  <div class="text">
    <h1>ELO Loyalty Predictions</h1>
  </div>
  <div class="text">
    <p>This page shows model predictions for a particular customer from the data set. The full list of features created from aggregations of the customer transaction history are also summarized in the "Model Features" table.</p>
  </div>
</section>
  <section>
    <div class="text">
        <h1  style="padding:4px;"> Customer Profile </h1>
    </div>
    <div style="flex-direction: row;">
        <img src="static/images/headshot-placeholder.jpg" class="headshot">
        <div class="loyalty">
          <table>
              <thead>
                  <tr>
                      <th colspan="2">Predicted Loyalty</th>
                  </tr>
                  <tr>
                    <th>Score</th>
                    <th>Percentile</th>
                  </tr>
              </thead>
              <tbody>
                  <tr>
                      <td>{{ pred }}</td>
                      <td>{{ percentile}}</td>
                  </tr>
              </tbody>
            </table>
            <a href="/demo"><button>Next Customer</button></a>
      </div>
    </div>
    <div class="text">
      <h1>Key Metrics</h1>
    </div>
    <div class="text">
      <table style="max-width:600px;">
        <thead>
            <tr>
                {% for col in metric_cols[:3] %}
                <th>{{ col }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            <tr>
                {% for val in metric_vals[:3] %}
                <td>{{val}}</td>
                {% endfor %}
            </tr>
        </tbody>
      </table>
    </div>
    <div>
        <table style="max-width:300px">
          <thead>
              <tr>
                  {% for col in metric_cols[3:] %}
                  <th>{{ col }}</th>
                  {% endfor %}
              </tr>
          </thead>
          <tbody>
              <tr>
                  {% for val in metric_vals[3:] %}
                  <td>{{val}}</td>
                  {% endfor %}
              </tr>
          </tbody>
        </table>
      </div>

  </section>
  <section>
    <div>
      <h1> Model Features </h1>
    </div>
    <div class="big_table">
      <table>
          <thead>
              <tr>
                  {% for col in sample_cols %}
                  <th class="bordered">{{ col }}</th>
                  {% endfor %}
              </tr>
          </thead>
          <tbody>
              <tr>
                  {% for val in sample_vals %}
                  <td class="bordered">{{val}}</td>
                  {% endfor %}
              </tr>
          </tbody>
        </table>
    </div>
  </section>
  
{% endblock content %}